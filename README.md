# GoldieRillChat

一个集成多模型AI对话、多媒体生成、文件管理、代码编辑和内置浏览器的全能创意助手平台，为AI交互和内容创作提供一站式解决方案。

## 🚀 技术栈

- **前端框架**
  - React 18
  - Vite 4
  - TailwindCSS
  - DaisyUI

- **桌面应用**
  - Electron 28
  - Electron Builder
  - Electron-as-browser

- **API 支持**
  - OpenAI API
  - Claude API
  - SiliconFlow API
    - 图片生成 API
    - 翻译 API (独立配置)
  - OpenRouter API
  - DeepSeek API
  - StepFun API

## ✨ 主要功能

### 💬 聊天管理
- 创建和管理多个聊天会话
- 支持会话重命名和删除
- 会话列表拖拽排序
- 自动保存聊天记录
- 丰富的消息操作功能
  - 编辑和删除消息
  - 消息复制到剪贴板
  - 上下移动消息位置
  - AI消息历史导航
  - 一键停止生成
  - 一键重试生成
  - 文件位置打开
- 一键发送到图片编辑器或代码编辑器
- 支持紧凑和标准两种显示模式
- 支持多种 AI 模型接口
  - OpenAI
  - Claude
  - SiliconFlow
  - DeepSeek
  - OpenRouter
  - StepFun
- 统一的消息JSON存储格式
  - 自动保存所有对话历史
  - 支持消息版本记录
  - 媒体文件引用关联
  - 音频参数保存

### 🔍 搜索增强
- Google Custom Search 集成
  - 支持每天100次免费搜索配额
  - 自定义搜索引擎配置
  - 可配置搜索结果数量（1-10条）
  - API 密钥安全管理
- 搜索结果智能整合
  - 自动提取相关内容
  - 智能总结搜索结果
  - 引用来源自动标注
  - 搜索结果实时预览
- AI 回答增强
  - 基于搜索结果的知识扩充
  - 实时网络信息补充
  - 准确的信息来源引用
  - 可选的搜索开关

### 🎨 主题系统
- 内置 18+ 种精美预设主题
- 纯黑色背景主题（新增）
  - 完美适配OLED显示器
  - 增强对比度和文本可读性
  - 完善的图片背景模式支持
- 智能随机主题生成器
  - 支持一键生成高级灰度配色
  - 基于 HSL 颜色模型的智能色彩算法
  - 自动平衡色彩饱和度和亮度
  - 生成带有微妙色调的专业灰度主题
  - 确保文本与背景的最佳对比度
- 主题实时预览和切换
- 主题配置持久化存储

### 🌈 ThreeJS着色器背景 (新增)
- 自定义着色器代码编辑
  - 支持顶点着色器(vertexShader)编辑
  - 支持片段着色器(fragmentShader)编辑
  - 实时代码应用到背景
  - 代码语法高亮显示
- 着色器预设管理
  - 支持10个预设位置(Shaders1-Shaders10)
  - 预设实时加载和保存
  - 预设列表侧边栏显示
  - 支持空预设（无效果）
- 便捷操作功能
  - 一键应用着色器效果
  - 一键重置为默认代码
  - 一键保存自定义着色器
  - 直观的状态信息显示
- 适配多种界面模式
  - 支持图片背景模式
  - 支持多种主题
  - 优化的布局和交互体验
  - 与其他组件完美协作

### 🤖 系统提示词功能
- 自定义 AI 行为和回答风格
  - 默认"小葵女友模式"，模拟日本爱情电影中宫崎葵饰演的角色
  - 支持技术问题与非技术问题的差异化回答风格
  - 内置情感特质和语言表达模式
- 系统提示词模板管理
  - 添加、编辑、删除自定义模板
  - 一键切换不同模板
  - 模板内容实时编辑
  - 重置为默认模板功能
- 系统提示词状态控制
  - 启用/禁用系统提示词功能
  - 系统提示词状态指示
  - 会话级别的提示词应用
- 优化的用户界面
  - 直观的模板管理界面
  - 模板内容预览
  - 独立的模板编辑对话框
  - 模板列表滚动支持

### 🌐 翻译功能 (新增)
- 独立于主要AI提供商
  - 使用专用的SiliconFlow API
  - 使用Qwen2-1.5B-Instruct模型
  - 不受当前选择的提供商限制
- 专用的API配置管理
  - 独立存储API密钥和地址
  - 易于配置的专用设置面板
- 快速翻译接口
  - 支持在聊天中直接调用
  - 优秀的中英互译能力
  - 自动检测源语言

### 🎨 AI 图片生成
- 独立的图片生成功能
  - 使用专用的SiliconFlow API
  - 独立于主要AI提供商
  - 专用的API配置管理
- 支持多种图片生成模型
  - FLUX.1-schnell：快速生成
  - FLUX.1-dev：开发版本
  - FLUX.1-pro：专业版本
    - 生成步数调整（2-50）
    - 引导系数控制（1.5-5）
    - 安全容忍度设置（0-6）
    - 间隔参数调整（1-4）
    - 提示词上采样开关
- 支持多种预设分辨率
  - 1024×576 (16:9 横版)
  - 576×1024 (9:16 竖版)
  - 1024×1024 (1:1 方形)
  - 768×512 (3:2 横版)
  - 512×768 (2:3 竖版)
  - 768×1024 (3:4 竖版)
- 图片生成历史记录
- 一键重新生成
- 支持自定义 Seed
- 支持模型切换
- 支持分辨率调整
- 优化的参数初始化和存储
- 改进的错误处理机制
- 增强的参数验证
- 深度复制参数对象
- 类型安全的参数转换

### 🎥 视频生成
- 支持多种视频生成模型
  - Lightricks/LTX-Video
  - genmo/mochi-1-preview
  - tencent/HunyuanVideo
- 特性支持
  - 文本到视频生成
  - 图片引导视频生成
  - 自定义随机种子
  - 视频生成进度显示
  - 视频预览播放
  - 视频下载与分享
  - 视频生成历史记录

### 📝 Monaco Editor 功能
- 支持多种编程语言
  - JavaScript/TypeScript
  - Python
  - Java
  - C++
  - HTML/CSS
  - Markdown
  等
- 代码编辑功能
  - 语法高亮
  - 代码格式化
  - 自动补全
  - 错误提示
- Markdown 支持
  - 实时预览
  - 导出 .md 文件
  - GFM 语法支持
  - 数学公式渲染
- Python 环境
  - 内置 Pyodide 运行时
  - 支持 numpy、pandas 等科学计算库
  - 实时代码执行
  - 输出结果展示
- 编辑器功能
  - 字体大小调节
  - 多主题切换
  - 复制/粘贴优化
  - 文件导入导出
- 笔记功能 (新增)
  - 独立的Notes目录
  - 10个默认笔记文件
  - 笔记内容实时保存
  - 与聊天对话分离
  - 响应式滚动条功能（新增）
    - 高度不足时自动显示滚动条
    - 侧边栏笔记列表滚动支持
    - 保持底部按钮可见

### 🌏 内置浏览器
- 集成安全浏览器功能
- 多标签页管理（新建、关闭、切换）
- 标签页状态显示（标题、加载状态、图标）
- 支持基本导航操作（前进、后退、刷新）
- 页面加载状态实时显示
- 支持与聊天功能无缝切换
- 安全沙箱环境
- 响应式布局（自适应侧边栏）
- 保持标签页状态
- 支持窗口拖拽
- 快速切换聊天功能
- 扁平化导航按钮设计

### 📝 消息功能
- 支持文本消息和文件发送
- Markdown 格式渲染
- 消息编辑和删除（优化的编辑界面）
- 消息上下移动
- 长消息折叠/展开（带平滑滚动效果）
- 复制/粘贴支持
- 消息自动保存为 TXT 文件
- 优化的消息操作按钮布局
- 消息操作按钮悬停显示
- 消息折叠状态记忆功能
- 改进的消息编辑体验
- 图片背景模式下的折叠按钮增强（新增）
  - 透明效果优化
  - 可见性和可用性提升
  - 悬停状态改进

### 📁 文件管理
- 文件拖拽上传
- 支持图片、视频等多媒体文件
- 文件重命名功能
- 回收站功能
- 打开文件所在位置
- 优化的文件预览界面

### 🔊 语音生成
- 支持多种语音合成功能
  - 20+ 种预设音色

  - 可调节参数
    - 音量调节 (0.1-2.0)
    - 语速调节 (0.5-2.0)
  - 支持多种音频格式
    - MP3
    - WAV
    - FLAC
    - OPUS
  - 使用方式
    - 命令格式: `/tts 文本内容 --voice 音色 --volume 音量 --speed 语速 --format 格式`
    - 示例: `/tts 你好世界 --voice cixingnansheng --volume 1.0 --speed 1.0`
  - 功能特点
    - 内置音频播放器
    - 音频参数显示
    - 自动保存音频文件
    - 支持音频文件管理

### 📚 书签系统 (升级)
- 书签管理
  - 添加当前页面到书签
  - 书签文件夹支持（新增）
  - 多级文件夹显示（新增）
  - 左右布局支持（新增）
- 书签导入功能
  - 支持导入浏览器书签文件
  - 增强的错误处理（新增）
  - 主进程书签解析（新增）
  - 自动处理未分类书签（新增）
- 书签操作
  - 快速访问保存的网页
  - 自动保存书签信息
  - 书签分类管理

### 🖼️ 图片处理
- 增强的图片编辑器
  - 智能边缘处理技术
  - 保持宽高比选项
  - 边缘平滑控制
  - 原始尺寸检测与应用
  - 图片加载状态指示
  - 详细的图片尺寸信息显示
  - 修复的颜色调整功能（新增）
    - 改进滑块变化时的滤镜应用
    - 确保滤镜按正确顺序应用
    - 增加重置颜色功能
- 高级编辑功能
  - 支持旋转、翻转、缩放
  - 亮度、对比度、饱和度调整
  - 灰度效果应用
  - 自定义画布大小
  - 多种分辨率预设
  - 宽高比例预设（16:9、9:16、21:9、4:3、1:1）
- 优化的用户体验
  - 统一的图片渲染方式
  - 一致的预览和导出效果
  - 实时参数调整反馈
  - 图片拖拽和缩放预览
  - 优化的图片容器样式
- 实用功能
  - 支持导出 JPG/PNG
  - 复制到剪贴板功能
  - 一键发送到聊天
  - 图片文件管理集成
- 图片查看器增强（新增）
  - 显示图片精确分辨率信息
  - 自动获取原始尺寸
  - 实时显示图片尺寸
  - 在灯箱模式中展示分辨率

## 🛠️ 系统优化 (新增)

- **界面视觉增强**
  - 图片背景模式下界面元素可见性问题修复
  - 保持半透明背景确保文本和控件清晰可见
  - 合适的z-index防止界面元素被背景遮挡
  - 统一的背景模式检测机制
  - 使用CustomEvent实现组件间状态同步
  - 图片背景模式下的折叠按钮样式优化（新增）
    - 透明效果取代黑底样式
    - 增强按钮可见性和交互体验
    - 保持与整体界面风格一致性

- **组件性能优化**
  - TitleBar.jsx循环更新问题修复
    - 使用useMemo替代useState+useEffect组合
    - 内联定义模型数据结构
    - 添加严格的条件检查
  - AIChat/index.jsx变量初始化问题修复
    - 调整变量声明顺序
    - 使用useRef跟踪先前的状态值
    - 实现高效的状态同步机制
    - 精确的数组比较确保状态更新的准确性
  - 侧边栏响应式优化（新增）
    - 高度自适应的滚动条支持
    - 保证界面元素在小屏幕上可见
    - 统一的滚动条美化样式

- **数据存储优化**
  - 统一的消息存储格式
  - 高效的文件组织结构
  - 自动保存与恢复机制
  - 优化的API配置管理

## 📦 安装和使用

1. 克隆仓库
```bash
git clone https://github.com/carterwayneskhizeine/GoldieRillChat.git
```

2. 安装依赖
```bash
npm install
```

3. 开发模式运行
```bash
npm run electron:dev
```

4. 构建应用
```bash
npm run electron:build
```

## 🎨 主题预览

支持多种精美主题：
- Dark
- Pure Black (新增)
- Synthwave
- Halloween
- Forest
- Pastel
- Black
- Luxury
- Dracula
- Business
- Coffee
- Emerald
- Corporate
- Retro
- Aqua
- Wireframe
- Night
- Dim
- Sunset

## 🔧 配置说明

### 存储位置
- 支持自定义存储位置
- 自动创建聊天文件夹
- 文件自动分类存储
- 优化的文件管理结构
- 视频文件自动分类存储
- 优化的多媒体文件管理
- 专用的Notes目录

### 文件支持
- 支持所有文本文件
- 图片格式：jpg、jpeg、png、gif、webp
- 视频格式：mp4（支持生成和预览）
- AI 生成图片自动保存
- 自动文件类型识别
- 优化的文件处理机制
- 优化的视频文件处理机制

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

## 🙏 致谢

本项目基于众多优秀的开源项目构建，特别感谢：

### 核心项目支持
- [Chatbox](https://github.com/Bin-Huang/chatbox) - 优秀的聊天应用框架
- [electron-as-browser](https://github.com/hulufei/electron-as-browser) - Electron 浏览器实现
- [yet-another-react-lightbox](https://github.com/igordanchenko/yet-another-react-lightbox) - 优秀的 React 灯箱组件

### 主要依赖
- **编辑器相关**
  - Monaco Editor - 强大的代码编辑器
  - CodeMirror - 优秀的文本编辑器
  - KaTeX - 数学公式渲染

- **UI 组件**
  - React 18 - 用户界面框架
  - TailwindCSS - 原子化 CSS 框架
  - DaisyUI - 优秀的 UI 组件库
  - Material UI - 组件库
  - Lucide React - 图标库
  - Three.js - 3D 背景渲染库

- **功能增强**
  - React Markdown - Markdown 渲染
  - React Syntax Highlighter - 代码高亮
  - React Virtual - 虚拟列表
  - Pyodide - Python 运行时
  - Cheerio - HTML 解析

### 开发工具
- Vite - 现代前端构建工具
- Electron - 跨平台桌面应用框架
- TypeScript - 类型支持
- PostCSS & Autoprefixer - CSS 处理
- Electron Builder - 应用打包

感谢所有开源社区的贡献者们，正是因为你们的无私奉献，才使得这个项目得以实现。同时也感谢所有使用和反馈本项目的用户。

## 📄 许可证

[MIT License](LICENSE)