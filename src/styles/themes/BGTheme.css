/* 导入面板标题样式 */
@import '../panel-titles.css';

/* 基于pastel主题的透明背景主题 */
[data-theme="bg-theme"] {
  /* 主要颜色 */
  --p: 210 100% 70%;  /* 蓝色主题按钮 */
  --pf: 210 100% 60%;  /* 蓝色主题按钮(聚焦状态) */
  --pc: 0 0% 100%;  /* 文本颜色为白色 - 修改为白色 */

  /* 次要颜色 */
  --s: 352 70% 88%;
  --sf: 352 70% 78%;
  --sc: 0 0% 100%; 

  /* 强调颜色 */
  --a: 158 55% 80%;
  --af: 158 55% 70%;
  --ac: 0 0% 100%;  /* 文本颜色为白色 */

  /* 中性色 */
  --n: 219 14% 28%;
  --nf: 219 14% 18%;
  --nc: 0 0% 100%;  /* 文本颜色为白色 */

  /* 关键背景颜色 - 全部设置为纯黑色 */
  --b1: 0 0% 0% 1;     /* 完全黑色 */
  --b2: 0 0% 0% 1;     /* 完全黑色 */
  --b3: 0 0% 0% 1;     /* 完全黑色 */
  --bc: 0 0% 0%;       /* 文本颜色修改为黑色 */

  /* 基础背景色 - 全部设置为完全透明 */
  --base-100: 0 0% 0% 1;
  --base-200: 0 0% 0% 1;
  --base-300: 0 0% 0% 1;
  --base-content: 0 0% 0%;     /* 基础文本内容为黑色 */

  /* 信息类颜色 */
  --in: 198 93% 60%;
  --inc: 0 0% 100%;  /* 文本颜色为白色 */
  --su: 158 64% 52%;
  --suc: 0 0% 100%;  /* 文本颜色为白色 */
  --wa: 43 96% 56%;
  --wac: 0 0% 100%;  /* 文本颜色为白色 */
  --er: 0 91% 71%;
  --erc: 0 0% 100%;  /* 文本颜色为白色 */

  /* 圆角 */
  --rounded-box: 1rem;
  --rounded-btn: 0.5rem;
  --rounded-badge: 1.9rem;

  /* 文本大小 */
  --btn-text-case: uppercase;
  --border-btn: 1px;
  --tab-border: 1px;
  --tab-radius: 0.5rem;

  /* 卡片和模态框背景 - 修改为纯黑色背景 */
  .card, .card-body, .modal, .modal-box, .dropdown-content {
    background-color: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
  }
  
  /* 确保文本可读性 */
  .prose, .chat-bubble {
    text-shadow: 0px 0px 4px rgba(0, 0, 0, 0.5);  /* 修改文本阴影使文本更清晰 */
    color: rgba(255, 255, 255, 0.8) !important;
  }

  /* 聊天气泡背景 */
  .chat-bubble {
    background-color: rgba(255, 255, 255, 0.1) !important;
    backdrop-filter: blur(8px);
    border: 1px solid rgba(255, 255, 255, 0.1);  /* 添加微弱边框以便区分 */
  }
  
  /* 聊天气泡内所有文本元素 */
  .chat-bubble * {
    text-shadow: 0px 0px 4px rgba(0, 0, 0, 0.7); /* 增强文本阴影使文字在任何背景上都清晰 */
  }

  /* 输入框和按钮背景 */
  .input, .textarea, .btn {
    background-color: rgba(10, 10, 10, 0.1) !important;
    backdrop-filter: blur(5px);
  }
  
  /* 消息操作按钮 */
  .message-actions button {
    color: rgb(182, 182, 182) !important; /* 确保按钮文字为白色 */
    background-color: rgba(0, 0, 0, 0.8) !important;
    border: 1px solid rgba(255, 255, 255, 0.2);
    text-shadow: 0px 0px 3px rgba(0, 0, 0, 0.5); /* 添加文本阴影增强可读性 */
  }
  
  /* 按钮悬停效果 */
  .message-actions button:hover {
    background-color: rgba(255, 255, 255, 0.2) !important;
    transform: scale(1.05);
  }
  
  /* 侧边栏样式 */
  .sidebar, .sidebar-item, .sidebar-menu, .sidebar-content {
    color: white !important;
    position: relative;
    z-index: 5 !important; /* 确保侧边栏内容显示在背景之上 */
  }
  
  /* 侧边栏菜单项 */
  .sidebar .menu-item, 
  .sidebar .menu-title, 
  .sidebar a, 
  .sidebar button,
  .sidebar li,
  .sidebar-content * {
    color: white !important;
    text-shadow: 0px 0px 3px rgba(0, 0, 0, 0.6);
    position: relative;
    z-index: 5 !important; /* 确保侧边栏元素显示在背景之上 */
  }
  
  /* 侧边栏活跃项 */
  .sidebar .active, 
  .sidebar .selected,
  .sidebar .menu-active,
  .btn.btn-active,
  .btn-ghost.btn-active {
    background-color: rgba(0, 0, 0, 0.7) !important;
    color: white !important;
    font-weight: bold;
    text-shadow: 0px 0px 3px rgba(0, 0, 0, 0.7);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }
  
  /* 对话文件夹列表项 - 选中状态 */
  .btn-ghost.btn-active {
    background-color: rgba(0, 0, 0, 0.7) !important;
    color: white !important;
    font-weight: bold;
    border-color: rgba(255, 255, 255, 0.3);
  }
  
  /* 对话文件夹列表项 - 未选中状态 */
  .btn-ghost {
    background-color: rgba(0, 0, 0, 0.3);
    color: rgba(255, 255, 255, 0.8);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }
  
  /* 对话文件夹列表项 - 悬停状态 */
  .btn-ghost:hover {
    background-color: rgba(0, 0, 0, 0.5) !important;
    color: white !important;
    border-color: rgba(255, 255, 255, 0.2);
  }
  
  /* 聊天容器和页面背景 */
  :is(body), :is(html), .app, .chat-container, .main-content, 
  .drawer-content, .drawer-side, .bg-base-100, .bg-base-200, .bg-base-300 {
    background-color: black !important;
    color: rgb(220, 220, 220) !important;
  }
  
  /* 针对导航栏和标签 */
  :is(nav), .tabs, .tab, .tab-content, .tab-active, 
  .menu-title, .menu-item, .drawer-content .menu-title,
  .drawer-toggle, .drawer-side, .drawer, .drawer-content,
  #tabs *, .tab-panel, .tab-panels *, :is(nav) *, .nav *,
  .title, .breadcrumbs, :is(header) {
    color: white !important;
    position: relative;
    z-index: 5 !important; /* 确保导航元素显示在背景之上 */
  }
  
  /* 特别针对红框区域的元素 */
  .chat-title, .conversation-title, .app-title,
  .title-bar, .title-container, .app-header, .app-title *,
  .drawer-side .menu li, .side-menu li, .conversation-list-item,
  .conversation-list li, .chat-list li, .chat-list-item,
  .chat-list *, .menu *, .menu li * {
    color: white !important;
    text-shadow: 0px 0px 3px rgba(0, 0, 0, 0.6);
    position: relative;
    z-index: 5 !important; /* 确保这些元素显示在背景之上 */
    background-color: rgba(0, 0, 0, 0.5); /* 添加半透明背景增强可见性 */
    border-radius: 4px;
    padding: 2px 4px;
  }
  
  /* 针对标题栏控制按钮(最小化、最大化、关闭按钮)移除背景 */
  .btn.btn-ghost.btn-xs.w-6.h-6.window-control-btn,
  .window-control-btn,
  .window-close-btn,
  .app-header button,
  .flex.items-center.space-x-2.no-drag > button {
    background: none !important;
    background-color: transparent !important;
    background-image: none !important;
    border: none !important;
    box-shadow: none !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
    padding: 0 !important;
  }
  
  /* 针对特定的聊天标题元素 */
  .flex.justify-between.items-center .font-semibold,
  :is(div).flex.justify-between.items-center :is(span).font-semibold,
  :is(div).flex.items-center :is(span).font-semibold,
  :is(div)[class*="flex"][class*="justify-between"][class*="items-center"] :is(span),
  :is(div)[class*="flex"][class*="items-center"] :is(span).font-semibold,
  .font-semibold {
    color: white !important;
    text-shadow: 0px 0px 4px rgba(0, 0, 0, 0.8);
    font-weight: bold;
    position: relative;
    z-index: 5 !important; /* 确保标题元素显示在背景之上 */
  }
  
  /* 顶部组件和模型选择器样式 */
  .select, select, .select-bordered, 
  .select-xs, .select-container, .select-wrapper {
    position: relative !important;
    z-index: 10 !important; /* 更高的z-index确保下拉菜单显示在最上层 */
    color: white !important;
    background-color: transparent !important; /* 修改为完全透明 */
    border-color: rgba(255, 255, 255, 0.2) !important;
  }
  
  /* 选择菜单的选项 */
  .select option, select option, 
  :is(option), datalist option {
    background-color: rgba(0, 0, 0, 0.9) !important;
    color: white !important;
    padding: 8px !important;
  }
  
  /* 选择菜单获得焦点时 */
  .select:focus, select:focus {
    outline: 2px solid rgba(255, 255, 255, 0.3) !important;
    border-color: rgba(255, 255, 255, 0.5) !important;
  }
  
  /* 顶部Header组件 */
  :is(header), .header, .app-header, 
  :is(div)[class*="border-b"][class*="flex"][class*="justify-between"][class*="items-center"] {
    position: relative !important;
    z-index: 10 !important; /* 确保头部在最上层 */
    background-color: rgba(0, 0, 0, 0) !important;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
  }
  
  /* 特定功能按钮的激活状态样式 */
  .btn.text-primary.active svg,
  .btn.text-primary[data-active="true"] svg,
  .btn.text-primary.btn-active svg,
  :is(button).btn-active.text-primary svg,
  :is(button)[data-state="active"].text-primary svg,
  :is(button).active.text-primary svg,
  :is(button).text-primary[aria-pressed="true"] svg,
  /* 支持自定义属性 */
  :is(button).text-primary[data-enabled="true"] svg,
  :is(button).text-primary[data-on="true"] svg {
    stroke: #3B82F6 !important; /* 蓝色 - tailwind blue-500 */
    fill: none !important;
  }

  /* 修改滚动条相关样式 */
  .scrollbar-thin {
    scrollbar-width: thin;
    position: relative;
    z-index: 5 !important;
  }
  
  .scrollbar-thin::-webkit-scrollbar {
    width: 8px !important;
    height: 8px !important;
    position: relative;
    z-index: 5 !important;
  }
  
  .scrollbar-thin::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.1) !important; /* 减少透明度从0.2到0.1 */
    border-radius: 4px;
    position: relative;
    z-index: 5 !important;
  }
  
  .scrollbar-thumb-base-content::-webkit-scrollbar-thumb {
    background-color: rgba(255, 255, 255, 0.2) !important; /* 减少透明度从0.4到0.2 */
    border-radius: 4px;
    position: relative;
    z-index: 5 !important;
    border: 1px solid rgba(255, 255, 255, 0.05); /* 减少边框透明度 */
  }
  
  .scrollbar-thumb-opacity-20::-webkit-scrollbar-thumb {
    opacity: 0.2; /* 减少透明度从0.4到0.2 */
    position: relative;
    z-index: 5 !important;
  }
  
  .hover\:scrollbar-thumb-opacity-50:hover::-webkit-scrollbar-thumb {
    opacity: 0.4; /* 减少透明度从0.6到0.4 */
    position: relative;
    z-index: 5 !important;
  }

  /* 针对bg-theme主题的滚动条容器 */
  [data-theme="bg-theme"] .scrollbar-thin,
  [data-theme="bg-theme"] .overflow-y-auto,
  [data-theme="bg-theme"] .overflow-x-auto,
  [data-theme="bg-theme"] .overflow-auto {
    position: relative; 
    z-index: 5 !important;
  }
  
  /* 翻译加载按钮在bg-theme主题下的样式 */
  [data-theme="bg-theme"] .translation-loading-btn {
    background-color: transparent !important;
    border-color: transparent !important;
  }
  
  [data-theme="bg-theme"] .translation-loading-spinner {
    border: 3px solid rgba(255, 255, 255, 0.2);
    border-top-color: white;
    border-radius: 50%;
    width: 24px;
    height: 24px;
    animation: translation-spinner-rotate 1s linear infinite;
  }
  
  @keyframes translation-spinner-rotate {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
  
  [data-theme="bg-theme"] .scrollbar-thumb-base-content::-webkit-scrollbar-thumb {
    background-color: rgba(255, 255, 255, 0.4) !important;
    border-radius: 4px;
    z-index: 5 !important;
    border: 1px solid rgba(255, 255, 255, 0.2);
  }
  
  [data-theme="bg-theme"] .hover\:scrollbar-thumb-opacity-50:hover::-webkit-scrollbar-thumb {
    background-color: rgba(255, 255, 255, 0.6) !important;
    z-index: 5 !important;
  }

  /* 增强滚动条在背景主题下的可见性 */
  [data-theme="bg-theme"] ::-webkit-scrollbar {
    width: 10px !important;
    height: 10px !important;
    background-color: rgba(0, 0, 0, 0.2) !important;
    z-index: 5 !important;
  }
  
  [data-theme="bg-theme"] ::-webkit-scrollbar-thumb {
    background-color: rgba(255, 255, 255, 0.4) !important;
    border-radius: 4px !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    z-index: 5 !important;
  }
  
  [data-theme="bg-theme"] ::-webkit-scrollbar-thumb:hover {
    background-color: rgba(255, 255, 255, 0.6) !important;
    z-index: 5 !important;
  }

  /* 确保侧边栏容器可以正常接收滚动事件 */
  [data-theme="bg-theme"] .sidebar,
  [data-theme="bg-theme"] .sidebar-content,
  [data-theme="bg-theme"] .sidebar .overflow-y-auto {
    pointer-events: auto !important;
    z-index: 5 !important;
  }

  /* 添加新的滚动条样式规则 */
  [data-theme="bg-theme"] * {
    scrollbar-width: thin;
    scrollbar-color: rgba(255, 255, 255, 0.4) rgba(0, 0, 0, 0.2);
  }

  [data-theme="bg-theme"] *::-webkit-scrollbar {
    width: 10px !important;
    height: 10px !important;
  }

  [data-theme="bg-theme"] *::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.1) !important; /* 更透明的背景 */
  }

  [data-theme="bg-theme"] *::-webkit-scrollbar-thumb {
    background-color: rgba(255, 255, 255, 0.2) !important; /* 更透明的滑块 */
    border: 1px solid rgba(255, 255, 255, 0.05) !important; /* 更微妙的边框 */
  }

  [data-theme="bg-theme"] *::-webkit-scrollbar-thumb:hover {
    background-color: rgba(255, 255, 255, 0.3) !important; /* 悬停时稍微不透明一点 */
  }

  /* 折叠按钮样式修复 - 更高优先级 */
  .message-container .collapse-button button,
  .chat-bubble .collapse-button button,
  .chat .collapse-button button,
  .chat-view-messages .collapse-button button,
  .message-content .collapse-button button,
  html [data-theme="bg-theme"] .collapse-button button,
  html [data-theme="bg-theme"] .aichat-collapse-btn,
  html [data-theme="bg-theme"] button.collapse-toggle,
  html [data-theme="bg-theme"] button[data-collapse],
  html [data-theme="bg-theme"] div.collapse-button > button,
  html [data-theme="bg-theme"] button.aichat-collapse-btn {
    background-color: transparent !important;
    backdrop-filter: blur(4px) !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2) !important;
    color: white !important;
    opacity: 0.8 !important;
    z-index: 40 !important;
  }
  
  /* 折叠按钮悬停效果 */
  .message-container .collapse-button button:hover,
  .chat-bubble .collapse-button button:hover,
  .chat .collapse-button button:hover,
  .chat-view-messages .collapse-button button:hover,
  .message-content .collapse-button button:hover,
  html [data-theme="bg-theme"] .collapse-button button:hover,
  html [data-theme="bg-theme"] .aichat-collapse-btn:hover,
  html [data-theme="bg-theme"] button.collapse-toggle:hover,
  html [data-theme="bg-theme"] button[data-collapse]:hover,
  html [data-theme="bg-theme"] div.collapse-button > button:hover,
  html [data-theme="bg-theme"] button.aichat-collapse-btn:hover {
    background-color: rgba(255, 255, 255, 0.1) !important;
    transform: scale(1.1) !important;
    border-color: rgba(255, 255, 255, 0.3) !important;
    opacity: 1 !important;
  }
  
  /* 确保折叠按钮中的SVG图标可见 */
  .message-container .collapse-button button svg,
  .chat-bubble .collapse-button button svg,
  .chat .collapse-button button svg,
  .chat-view-messages .collapse-button button svg,
  .message-content .collapse-button button svg,
  html [data-theme="bg-theme"] .collapse-button button svg,
  html [data-theme="bg-theme"] .aichat-collapse-btn svg,
  html [data-theme="bg-theme"] button.collapse-toggle svg,
  html [data-theme="bg-theme"] button[data-collapse] svg,
  html [data-theme="bg-theme"] div.collapse-button > button svg,
  html [data-theme="bg-theme"] button.aichat-collapse-btn svg {
    stroke: white !important;
    fill: none !important;
    opacity: 0.9 !important;
  }

  /* 网络搜索按钮 - 开启状态 */
  .btn-ghost.text-primary {
    color: var(--p) !important;
    border-color: var(--p) !important;
    background-color: rgba(var(--p-rgb), 0.1) !important;
  }
  
  /* 网络搜索按钮 - 关闭状态 - 与其他按钮保持一致 */
  .btn-ghost:not(.text-primary) {
    color: var(--bc) !important;
    /* 不添加特殊样式，保持与其他按钮一致 */
  }

  /* 应用图标容器样式 */
  .app-logo-container {
    position: relative;
    z-index: 100;
    transition: all 0.3s ease;
  }

  /* 链接对话框特殊样式 - 确保在背景模式下显示清晰 */
  .link-dialog-overlay {
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    background-color: rgba(0, 0, 0, 0.7) !important;
  }

  .link-dialog-content {
    background-color: rgba(30, 30, 35, 0.95) !important;
    border: 2px solid rgba(255, 255, 255, 0.2) !important;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.7) !important;
  }

  .link-dialog-content h3 {
    color: rgba(255, 255, 255, 0.95) !important;
    font-weight: 600 !important;
  }

  .link-dialog-content p {
    color: rgba(255, 255, 255, 0.8) !important;
    font-weight: 500 !important;
  }

  .link-dialog-content .btn-primary {
    background-color: rgba(0, 136, 255, 0.9) !important; /* 更鲜明的蓝色 */
    color: white !important;
    border: none !important;
    font-weight: 600 !important;
    box-shadow: 0 0 10px rgba(0, 120, 255, 0.4) !important;
  }

  .link-dialog-content .btn-outline {
    background-color: transparent !important;
    color: rgba(0, 120, 255, 0.9) !important; /* 匹配主按钮的蓝色 */
    border-color: rgba(0, 120, 255, 0.6) !important; /* 匹配主按钮的蓝色 */
    font-weight: 500 !important;
  }

  .link-dialog-content .btn-ghost {
    background-color: transparent !important;
    color: rgba(255, 255, 255, 0.7) !important;
    font-weight: 500 !important;
  }

  /* 设置面板中添加新模板按钮确保文字为白色 - 更具体的选择器 */
  .modal-box .btn-primary,
  .settings-modal .btn-primary,
  .tabs-content .btn-primary,
  :is(button).btn.btn-sm.btn-primary,
  :is(button).btn.btn-primary {
    color: white !important;
    font-weight: 500 !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
  }

  /* 专门针对添加新模板按钮 */
  :is(button).btn-primary:contains("添加新模板"),
  :is(button).btn-primary:contains("添加模板"),
  :is(button).btn-primary:contains("新模板") {
    color: white !important;
    font-weight: 600 !important;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5) !important;
  }

  /* 针对Previous和Next按钮的悬停样式 - 使用更具体的选择器和!important */
  [data-theme="bg-theme"] .p-2 .join button:hover {
    color: rgb(255, 215, 0) !important;
    border-color: rgba(255, 215, 0, 0.4) !important;
    background-color: rgba(255, 215, 0, 0.2) !important;
    text-shadow: 0px 0px 3px rgba(0, 0, 0, 0.6) !important;
  }

  [data-theme="bg-theme"] .p-2 .join button:active {
    color: rgb(255, 215, 0) !important;
    background-color: rgba(255, 215, 0, 0.3) !important;
    transform: translateY(1px) !important;
    transition: transform 0.1s !important;
  }

  /* 使用直接的元素选择器，更准确 */
  [data-theme="bg-theme"] .p-2 .join .grid-cols-2 button:hover,
  [data-theme="bg-theme"] .p-2 > .join > button:hover,
  [data-theme="bg-theme"] div[class*="p-2"] .join button:hover,
  [data-theme="bg-theme"] div.join button:hover {
    color: rgb(255, 215, 0) !important;
    border-color: rgba(255, 215, 0, 0.4) !important;
    background-color: rgba(255, 215, 0, 0.2) !important;
    text-shadow: 0px 0px 3px rgba(0, 0, 0, 0.6) !important;
  }

  /* 专门为侧边栏添加更透明的滚动条样式 */
  [data-theme="bg-theme"] .sidebar .scrollbar-thin::-webkit-scrollbar-track,
  [data-theme="bg-theme"] .sidebar-content .scrollbar-thin::-webkit-scrollbar-track,
  [data-theme="bg-theme"] .sidebar *::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.05) !important; /* 非常透明的轨道 */
  }
  
  [data-theme="bg-theme"] .sidebar .scrollbar-thin::-webkit-scrollbar-thumb,
  [data-theme="bg-theme"] .sidebar-content .scrollbar-thin::-webkit-scrollbar-thumb,
  [data-theme="bg-theme"] .sidebar *::-webkit-scrollbar-thumb {
    background-color: rgba(255, 255, 255, 0.15) !important; /* 更透明的滑块 */
    border: 1px solid rgba(255, 255, 255, 0.05) !important;
  }
  
  [data-theme="bg-theme"] .sidebar .scrollbar-thin::-webkit-scrollbar-thumb:hover,
  [data-theme="bg-theme"] .sidebar-content .scrollbar-thin::-webkit-scrollbar-thumb:hover,
  [data-theme="bg-theme"] .sidebar *::-webkit-scrollbar-thumb:hover {
    background-color: rgba(255, 255, 255, 0.25) !important; /* 悬停时稍微不透明一点 */
  }
}

/* 图片背景模式下的样式 */
[data-theme="bg-theme"].image-background-mode {
  /* 对于非对话框相关的样式，保留原来的定义 */
  /* 此处省略了非对话框相关的样式，请确保保留它们 */
  
  /* 链接对话框特殊样式在普通模式下已定义，这里只覆盖需要特别调整的属性 */
  .link-dialog-overlay {
    backdrop-filter: blur(16px); /* 稍微增强模糊效果 */
    -webkit-backdrop-filter: blur(16px);
  }

  /* 设置面板按钮在图片背景模式下的增强效果 */
  .btn-primary,
  .settings-modal .btn-primary, 
  .modal-box .btn-primary {
    background-color: rgba(0, 120, 255, 0.9) !important;
    box-shadow: 0 0 10px rgba(0, 120, 255, 0.6) !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    color: white !important;
    font-weight: 500 !important;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5) !important;
  }
}

/* 全局面板标题样式 - 确保在所有主题下保持一致 */
:root, [data-theme] {
  /* 所有面板标题都使用白色文本 */
  --panel-title-color: white;
  --panel-title-shadow: 0px 0px 3px rgba(0, 0, 0, 0.9);
  --panel-title-border: 1px solid rgba(255, 255, 255, 0.1);
  --panel-title-radius: 4px;
  --panel-title-padding: 2px 6px;
}

/* 通用面板标题样式 */
.app-title, .chat-title, .conversation-title, 
.browser-tab-title, .browser-panel-title,
.threejs-title, .shaders-title, 
.chat-title, .ai-chat-title, 
.monaco-title, .editor-title, 
.image-editor-title, .photo-editor-title,
.embedding-title, .knowledge-title {
  color: white !important;
  text-shadow: 0px 0px 3px rgba(0, 0, 0, 0.9);
  padding: 2px 6px;
  border-radius: 4px;
}

/* 标签页和tabs样式 */
.tabs .tab, .tab-content .tab, .tab-active,
nav .tab, .header .tab, .tab[role="tab"] {
  color: var(--panel-title-color) !important;
  text-shadow: var(--panel-title-shadow);
  padding: var(--panel-title-padding);
  border-radius: var(--panel-title-radius);
}

/* 标题容器样式 */
.title-container, .header-content, .panel-header, 
.tab-header, .tool-header, .section-header {
  border-bottom: var(--panel-title-border);
}

/* 全局按钮样式重写 - 放在文件的最后确保最高优先级 */
/* 这些样式会覆盖所有其他样式定义 */
[data-theme="bg-theme"] .btn-primary,
[data-theme="bg-theme"].image-background-mode .btn-primary,
html [data-theme="bg-theme"] .btn-primary {
  color: white !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
}

/* 图片背景模式下的增强样式 */
[data-theme="bg-theme"].image-background-mode .btn-primary,
html [data-theme="bg-theme"].image-background-mode .btn-primary {
  box-shadow: 0 0 8px rgba(0, 120, 255, 0.5) !important;
  border: 1px solid rgba(255, 255, 255, 0.3) !important;
  font-weight: 600 !important;
}

/* 统一所有主题的侧边栏折叠按钮样式 */


/* 侧边栏折叠按钮悬停状态 - 适用于所有主题 */
html .h-full.w-\[10px\].cursor-pointer:hover,
[data-theme] .h-full.w-\[10px\].cursor-pointer:hover {
  background-color: rgba(0, 0, 0, 0.4) !important;
  border-right: 1px solid rgba(255, 215, 0, 0.3) !important;
}

/* 侧边栏折叠按钮中的箭头符号 - 适用于所有主题 */
html .h-full.w-\[10px\].cursor-pointer .text-base-content,
[data-theme] .h-full.w-\[10px\].cursor-pointer .text-base-content {
  color: rgba(255, 255, 255, 0.45) !important;
  font-size: 16px !important;
  font-weight: bold !important;
  text-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2) !important;
  background-color: rgba(0, 0, 0, 0.1) !important;
  padding: 2px 4px !important;
  border-radius: 3px !important;
  margin: 0 !important;
  position: relative !important;
  z-index: 100 !important;
}

/* 旧的主题特定样式保留但不再使用 */
.sidebar-toggle {
  color: white !important;
  text-shadow: 0px 0px 6px rgba(0, 0, 0, 0.9) !important;
  background-color: rgba(0, 0, 0, 0.3) !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  z-index: 100 !important;
  position: fixed !important;
  opacity: 0.8 !important;
  transition: all 0.3s ease !important;
}

.sidebar-toggle:hover {
  color: rgb(255, 215, 0) !important; /* 金色 */
  background-color: rgba(0, 0, 0, 0.5) !important;
  border-color: rgba(255, 215, 0, 0.5) !important;
  opacity: 1 !important;
  text-shadow: 0px 0px 8px rgba(255, 215, 0, 0.5) !important;
}

[data-theme="bg-theme"] .h-full.w-\[10px\].cursor-pointer:hover,
html[data-theme="bg-theme"] .h-full.w-\[10px\].cursor-pointer:hover {
  background-color: rgba(0, 0, 0, 0.4) !important;
  border-right: 1px solid rgba(255, 215, 0, 0.3) !important;
}

[data-theme="bg-theme"] .h-full.w-\[10px\].cursor-pointer .text-base-content,
html[data-theme="bg-theme"] .h-full.w-\[10px\].cursor-pointer .text-base-content {
  color: rgba(255, 255, 255, 0.45) !important;
  font-size: 16px !important;
  font-weight: bold !important;
  text-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2) !important;
  background-color: rgba(0, 0, 0, 0.1) !important;
  padding: 2px 4px !important;
  border-radius: 3px !important;
  margin: 0 !important;
  position: relative !important;
  z-index: 100 !important;
}

[data-theme="bg-theme"] .sidebar-toggle,
html[data-theme="bg-theme"] .sidebar-toggle,
body[data-theme="bg-theme"] .sidebar-toggle {
  color: white !important;
  text-shadow: 0px 0px 8px rgba(0, 0, 0, 1) !important;
  font-size: 18px !important;
  font-weight: bold !important;
  background-color: rgba(0, 0, 0, 0.4) !important;
  border: 1px solid rgba(255, 215, 0, 0.3) !important;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.5) !important;
  opacity: 0.9 !important;
}